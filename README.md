<div align="center">
  <img src="img/simulador.png" alt="Descri√ß√£o da imagem" width="400">
</div>

##  üìùIntrodu√ß√£o

Este trabalho foi proposto pelo professor [Michel Pires Silva](https://github.com/mpiress), da mat√©ria Algoritmos e Estrutura de Dados I, do Centro Federal de Educa√ß√£o Tecnol√≥gica de Minas Gerais (CEFET - MG), Campus V - Divin√≥polis.
Este reposit√≥rio cont√©m a implementa√ß√£o de um simulador de propaga√ß√£o de inc√™ndios em florestas. O objetivo principal √© modelar a propaga√ß√£o do fogo em uma matriz que representa a floresta, utilizando a linguagem de programa√ß√£o C++. Adicionalmente, o simulador √© capaz de identificar rotas de fuga para um animal presente na floresta.

## üìö Sum√°rio


1. üß© Descri√ß√£o do Problema
2. üìã Especifica√ß√£o do Trabalho
3. üõ†Ô∏è Compila√ß√£o e Execu√ß√£o
4. üìÇ Entrada e Sa√≠da de Dados
5. ‚öôÔ∏è Arquivo de Configura√ß√£o
6. ‚ö†Ô∏è Arquivo de Sa√≠da de Erros
7. üîç Metodologia do C√≥digo
8. üìä Padr√µes de Propaga√ß√£o e An√°lise
9. üí° Poss√≠veis Melhorias
10. üìÅ Estrutura do Reposit√≥rio
11. üí≠ Cr√©ditos
12. üë®‚Äçüíª Autor

## üß© Descri√ß√£o do Problema

O simulador utiliza uma matriz din√¢mica para representar a floresta. Cada c√©lula da matriz pode conter os seguintes valores, que indicam o estado correspondente:
- **0**: √Årea segura (n√£o queima)
- **1**: √Årvore saud√°vel
- **2**: √Årvore em chamas
- **3**: √Årvore queimada (n√£o propaga mais fogo)
- **4**: √Ågua

A simula√ß√£o consiste em iterar sobre a matriz para propagar o inc√™ndio e deslocar um animal at√© que o fogo se extinga ou o n√∫mero m√°ximo de itera√ß√µes seja alcan√ßado.

## üìùEspecifica√ß√£o do Trabalho

### Requisitos

- Implementa√ß√£o em C++.
- Modulariza√ß√£o do c√≥digo com headers (`.hpp`) e arquivos de implementa√ß√£o (`.cpp`).
- Configura√ß√£o global atrav√©s de um arquivo `config.hpp`.
- Entrada de dados a partir de `input.dat` e sa√≠da escrita em `output.dat`.
- Simula√ß√£o iterativa e visual, exibindo o estado da floresta em cada itera√ß√£o no arquivo de sa√≠da.
- Compatibilidade com sistema Linux e compila√ß√£o com `make`.

### ‚ú®Funcionalidades

1. Representa√ß√£o da floresta como matriz din√¢mica.
2. Propaga√ß√£o do fogo com e sem influ√™ncia do vento.
3. Movimenta√ß√£o de um animal buscando rotas de fuga.
4. Relat√≥rio de desempenho e an√°lise ao final da simula√ß√£o.

## üíªCompila√ß√£o e Execu√ß√£o

### üñ•Ô∏è Clonagem do Reposit√≥rio

Para clonar este reposit√≥rio e acessar os arquivos localmente, siga os passos abaixo:
```bash
git clone https://github.com/joaovitor3105/Trabalho_Aquecimento.git
```
Utilize os seguintes comandos no terminal para compilar e executar o simulador:

1. Limpar arquivos antigos:
   ```bash
   make clean
   ```
2. Compilar o c√≥digo:
   ```bash
   make
   ```
3. Executar o simulador:
   ```bash
   make run
   ```

## üìÇEntrada e Sa√≠da de Dados

### üì•Arquivo de Entrada (`input.dat`)

O arquivo `input.dat` deve conter:
- Dimens√µes da matriz (N x M).
- Coordenadas iniciais do inc√™ndio.
- Matriz da floresta, linha por linha.
- Todos os dados separados por espa√ßo.

#### Exemplo:
```
10 10 5 7
1 4 1 4 1 1 1 4 0 0
0 1 4 1 0 4 1 0 4 0
0 1 4 4 1 0 0 1 1 1
4 1 1 1 1 4 1 1 4 4
0 0 0 1 1 1 0 1 1 0
4 1 1 1 0 0 1 2 0 1
1 1 4 0 1 0 1 1 0 1
0 1 1 4 1 1 0 1 4 1
4 1 4 4 4 4 1 0 0 4
1 1 0 1 4 4 0 1 4 0
```

### üì§Arquivo de Sa√≠da (`output.dat`)

A cada itera√ß√£o, o estado atualizado da matriz ser√° escrito no arquivo `output.dat`.

#### Exemplo:
```
Intera√ß√£o 0:           Intera√ß√£o 1:           Intera√ß√£o 2:           Intera√ß√£o 3:           Intera√ß√£o 4:           Intera√ß√£o 5:           Intera√ß√£o 6:           Intera√ß√£o 7:

1 4 1 4 1 1 1 4 0 0    1 0 1 4 1 1 1 4 0 0    1 0 1 4 1 1 1 4 0 0    1 0 1 4 1 1 1 4 0 0    1 0 1 4 1 1 1 4 0 0    1 0 1 4 1 1 1 4 0 0    1 0 1 4 1 1 1 4 0 0    1 0 1 4 1 1 1 4 0 0
0 1 4 1 0 4 1 0 4 0    0 1 4 1 0 4 1 0 4 0    0 1 4 1 0 4 1 0 4 0    0 1 4 1 0 4 1 0 4 0    0 1 4 1 0 4 1 0 4 0    0 1 0 1 0 4 1 0 4 0    0 1 0 1 0 4 1 0 4 0    0 1 0 1 0 4 1 0 4 0
0 1 4 4 1 0 0 1 1 1    0 1 4 4 1 0 0 1 1 1    0 1 4 4 1 0 0 1 1 1    0 1 4 4 1 0 0 2 1 1    0 1 4 4 1 0 0 2 2 1    0 1 1 4 1 0 0 3 2 2    0 1 1 4 1 0 0 3 3 2    0 1 1 4 1 0 0 3 3 3
4 1 1 1 1 4 1 1 4 4    4 1 1 1 1 4 1 1 4 4    4 1 1 1 1 4 1 2 4 4    4 1 1 1 1 4 2 2 4 4    4 1 1 1 1 4 2 3 4 4    4 1 1 1 1 4 3 3 4 4    4 1 1 1 1 4 3 3 4 4    4 1 1 1 1 4 3 3 4 4
0 0 0 1 1 1 0 1 1 0    0 0 0 1 1 1 0 2 1 0    0 0 0 1 1 1 0 2 2 0    0 0 0 1 1 1 0 3 2 0    0 0 0 1 1 1 0 3 3 0    0 0 0 1 1 1 0 3 3 0    0 0 0 1 1 1 0 3 3 0    0 0 0 1 1 1 0 3 3 0
4 1 1 1 0 0 1 2 0 1    4 1 1 1 0 0 2 2 0 1    4 1 1 1 0 0 2 3 0 1    4 1 1 1 0 0 3 3 0 1    4 1 1 1 0 0 3 3 0 1    4 1 1 1 0 0 3 3 0 1    4 1 1 1 0 0 3 3 0 1    4 1 1 1 0 0 3 3 0 1
1 1 4 0 1 0 1 1 0 1    1 1 4 0 1 0 1 2 0 1    1 1 4 0 1 0 2 2 0 1    1 1 4 0 1 0 2 3 0 1    1 1 4 0 1 0 3 3 0 1    1 1 4 0 1 0 3 3 0 1    1 1 4 0 1 0 3 3 0 1    1 1 4 0 1 0 3 3 0 1
0 1 1 4 1 1 0 1 4 1    0 1 1 4 1 1 0 1 4 1    0 1 1 4 1 1 0 2 4 1    0 1 1 4 1 1 0 2 4 1    0 1 1 4 1 1 0 3 4 1    0 1 1 4 1 1 0 3 4 1    0 1 1 4 1 1 0 3 4 1    0 1 1 4 1 1 0 3 4 1
4 1 4 4 4 4 1 0 0 4    4 1 4 4 4 4 1 0 0 4    4 1 4 4 4 4 1 0 0 4    4 1 4 4 4 4 1 0 0 4    4 1 4 4 4 4 1 0 0 4    4 1 4 4 4 4 1 0 0 4    4 1 4 4 4 4 1 0 0 4    4 1 4 4 4 4 1 0 0 4
1 1 0 1 4 4 0 1 4 0    1 1 0 1 4 4 0 1 4 0    1 1 0 1 4 4 0 1 4 0    1 1 0 1 4 4 0 1 4 0    1 1 0 1 4 4 0 1 4 0    1 1 0 1 4 4 0 1 4 0    1 1 0 1 4 4 0 1 4 0    1 1 0 1 4 4 0 1 4 0
```

Ap√≥s a finaliza√ß√£o das intera√ß√µes ser√° escrito no arquivo `output.dat` o relat√≥rio da simula√ß√£o:

#### Exemplo:
```
----------------------------------------
Animal sobreviveu
Animal na posi√ß√£o: (1, 2)
Passos: 3, Encontrou √°gua: 2
O vento estava ativo nas dire√ß√µes:
 Sul
 Norte
 Leste
 Oeste
----------------------------------
```

## ‚öôÔ∏èArquivo de Configura√ß√£o (`config.hpp`)

O arquivo `config.hpp` permite configurar globalmente par√¢metros importantes para a simula√ß√£o, como a propaga√ß√£o do fogo com ou sem vento, as dire√ß√µes do vento e o n√∫mero m√°ximo de intera√ß√µes permitidas.

#### Configura√ß√µes Dispon√≠veis
1. **Habilitar ou Desabilitar o Vento**
   - A configura√ß√£o `VENTO` permite ativar (`true`) ou desativar (`false`) a influ√™ncia do vento na propaga√ß√£o do inc√™ndio.

2. **Dire√ß√µes do Vento**
   - As dire√ß√µes (`SUL`, `NORTE`, `LESTE`, `OESTE`) especificam para onde o vento direciona a propaga√ß√£o do fogo. Cada dire√ß√£o pode ser ativada (`true`) ou desativada (`false`) individualmente.

3. **N√∫mero M√°ximo de Intera√ß√µes**
   - A configura√ß√£o `interacoes` define o limite m√°ximo de itera√ß√µes da simula√ß√£o. Ap√≥s atingir esse valor, a execu√ß√£o ser√° finalizada automaticamente.

#### Estrutura do Arquivo

```cpp
#define VENTO true          // Ativa ou desativa o vento na simula√ß√£o

#define SUL true            // Permite propaga√ß√£o para o sul
#define NORTE true          // Permite propaga√ß√£o para o norte
#define LESTE true          // Permite propaga√ß√£o para o leste
#define OESTE true          // Permite propaga√ß√£o para o oeste

#define interacoes 1000     // N√∫mero m√°ximo de intera√ß√µes da simula√ß√£o
```

#### Observa√ß√£o
- Caso `VENTO` esteja configurado como `false`, as vari√°veis `SUL`, `NORTE`, `LESTE` e `OESTE` ser√£o ignoradas.
- Altera√ß√µes nesse arquivo devem ser realizadas antes da compila√ß√£o do programa.

## ‚ö†Ô∏èArquivo de Sa√≠da de Erros (`log.txt`)
O arquivo `log.txt` √© utilizado para registrar mensagens de erro.

### üïí Registro de Erros com Data e Hora
-√â ultilizado a biblioteca `<ctime>` para registrar a data e hora do erro.

### Exemplo de Conte√∫do do `log.txt`


```
[2025-04-23 22:09:00] Erro ao abrir o arquivo input.dat.
[2025-04-23 21:08:00] N√£o foi poss√≠vel encontrar uma posi√ß√£o segura para o animal.
[2025-04-23 20:05:00] Erro ao abrir o arquivo output.dat.
```

## üß†Metodologia do C√≥digo

### üïπÔ∏èArquivo Principal: `Simulacao.cpp`

O arquivo principal da simula√ß√£o √© o `Simulacao.cpp`. Ele cont√©m a fun√ß√£o `executarSimulacao`, que √© respons√°vel por organizar e executar os passos da simula√ß√£o. Abaixo est√° a ordem geral de execu√ß√£o:

#### 1. Prepara√ß√£o Inicial:
- Limpa o arquivo de sa√≠da (`limparSaida()`).
- L√™ o arquivo de entrada e inicializa a floresta (`lerArquivo()`).
- Cria um objeto `Incendio` com a posi√ß√£o inicial do fogo.
- Inicializa a matriz da floresta e o objeto `Animal`.

#### 2. Posicionamento do Animal:
- O animal √© colocado na primeira posi√ß√£o segura (0 ou 1) dispon√≠vel na matriz.

#### 3. Execu√ß√£o do Loop da Simula√ß√£o:
O loop principal √© controlado por um contador de intera√ß√µes e uma vari√°vel de controle (`matrizQueimada`). A cada itera√ß√£o:
- O animal se move, caso ainda esteja vivo (`animal.mover()`).
- O inc√™ndio se propaga na matriz (`incendio.propagarIncendio()`).
- Verifica-se se o animal sobreviveu ou morreu, com uma tentativa de escapar caso esteja na mesma posi√ß√£o que o fogo.
- Adiciona o estado da matriz e a itera√ß√£o no `output.dat`.

#### 4. Finaliza√ß√£o:
- Quando o loop termina, √© gerado um relat√≥rio final da simula√ß√£o (`gerarRelatorio()`).

---

### üêæM√©todo de Movimento do Animal (`mover()`)

O m√©todo `mover` est√° implementado na classe `Animal`, em `Animal.cpp`. Ele define como o animal se desloca na matriz com base em prioridades.

#### 1. Classifica√ß√£o de Movimentos:
O m√©todo avalia as posi√ß√µes ortogonais ao animal. Prioridades:
- **√Ågua** (c√≥digo `4` na matriz): Melhor movimento.
- **√Åreas seguras** (c√≥digo `0` ou `1`): Movimentos intermedi√°rios.
- **Floresta Queimada** (c√≥digo `3`): Movimentos ruins.
- **No caso de s√≥ ter posi√ß√µes de fogo em sua volta** (c√≥digo `2`): Continua na mesma posi√ß√£o.

#### 2. Movimento Decidido:
- Se o animal estiver em uma posi√ß√£o segura (c√≥digo `0`), ele pode ficar parado por at√© 3 itera√ß√µes.
- Caso contr√°rio, ele se move para a melhor posi√ß√£o dispon√≠vel, atualizando sua posi√ß√£o na matriz.
- No caso de 2 op√ß√µes de movimento com a mesma prioridade, √© decidido de forma aleat√≥ria sua movimenta√ß√£o.

---

### üî•M√©todo de Propaga√ß√£o do Inc√™ndio (`propagarIncendio`)

O m√©todo `propagarIncendio` est√° implementado na classe `Incendio`, em `Incendio.cpp`. Ele define como o fogo se espalha na matriz.

#### 1. Atualiza√ß√£o da Matriz:
- Marca as posi√ß√µes anteriormente queimadas como √°reas carbonizadas (c√≥digo `3`).
- Atualiza as posi√ß√µes atuais do fogo.

#### 2. Propaga√ß√£o do Fogo:
- **Se o vento estiver ativo** (`VENTO` definido como `true`):
    - O fogo se propaga nas dire√ß√µes configuradas (NORTE, SUL, LESTE, OESTE).
- **Caso contr√°rio**, o fogo se espalha para todas as posi√ß√µes adjacentes.

#### 3. Verifica√ß√£o de Condi√ß√£o Final:
- Retorna `true` se todas as posi√ß√µes poss√≠veis j√° foram queimadas, indicando o fim da propaga√ß√£o.


## üìäPadr√µes de Propaga√ß√£o e An√°lise

### üåøüî•Sem Vento
O fogo se propaga em todas as dire√ß√µes ortogonais, resultando em uma expans√£o sim√©trica quando n√£o h√° obst√°culos.

Exemplo visual:
üî• = fogo | üåø = vegeta√ß√£o |

| Estado Inicial | Ap√≥s 1 itera√ß√£o |
|----------------|-----------------|
| üåø üåø üåø | üåø üî• üåø |
| üåø üî• üåø | üî• üî• üî• |
| üåø üåø üåø | üåø üî• üåø |

### üí®üî•Com Vento
A propaga√ß√£o √© direcionada, resultando em padr√µes assim√©tricos que dependem da configura√ß√£o do vento.

Exemplo visual:
üî• = fogo | üåø = vegeta√ß√£o |

| Estado Inicial | Ap√≥s 1 itera√ß√£o (leste, sul) |
|----------------|------------------------------|
| üåø üåø üåø | üåø üåø üåø |
| üåø üî• üåø | üåø üî• üî• |
| üåø üåø üåø | üåø üî• üåø |

### An√°lise
O simulador permite prever o potencial de destrui√ß√£o do inc√™ndio ao observar o n√∫mero de itera√ß√µes e a √°rea afetada.

## üí°Poss√≠veis Melhorias

- Implementa√ß√£o de algoritmos de busca melhores como BFS, Dijkstra, entre outros.
- Implementar visualiza√ß√£o gr√°fica.
- Adicionar m√∫ltiplos animais.

## üìÅEstrutura do Reposit√≥rio

```
Trabalho_Aquecimento/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.cpp
‚îÇ   ‚îú‚îÄ‚îÄ Config.hpp
‚îÇ   ‚îú‚îÄ‚îÄ Animal.cpp
‚îÇ   ‚îú‚îÄ‚îÄ Incendio.cpp
‚îÇ   ‚îú‚îÄ‚îÄ Simulacao.cpp
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ input.dat
‚îú‚îÄ‚îÄ output.dat
‚îú‚îÄ‚îÄ log.txt
‚îú‚îÄ‚îÄ Makefile
‚îî‚îÄ‚îÄ README.md
```
## üí≠ Cr√©ditos

Este projeto usa um Makefile fornecido pelo professor [Michel Pires Silva](https://github.com/mpiress).

## üë®‚Äçüíª Autor

Este projeto foi desenvolvido por **Jo√£o Vitor**.

- üéì Estudante e entusiasta de programa√ß√£o.
- üíª Linguagens preferidas: C++, Python e Java.
- üì´ Entre em contato:
  - [GitHub](https://github.com/joaovitor3105)
  - [LinkedIn](https://www.linkedin.com/in/joaovitor3105/)
  - E-mail: joaovitorlobatoromualdo16@gmail.com
